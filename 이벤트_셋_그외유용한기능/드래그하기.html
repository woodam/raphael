<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title></title>
	<script type="text/javascript" src="../js/raphael.js"></script>
</head>
<body>
	<script type="text/javascript">
		var x = 100,
			y = 400,
			width = 800,
			height = 800;

			
			var paper = Raphael( x, y, width, height );						
			
			// M = move to = 커서를 옮긴다
			// L = line to = 라인을 그린다.
			 // H = 수평 직선을 그린다. V = 수직
			var pathString = 'M100,80 h40 v40 h40 v40 h-120 v-40 h40 z';
    		var block = paper.path(pathString);


			// 엘리먼트를 드래그해 확인한다.
			
			// dx,dy = 드래그가 시작된 지점으로부터의 거리
			// x,y = 마우스 포지션
			var onmoveHandler = function (dx, dy, x, y, event) {
				console.log('dragging...');

				this.translate(dx - movedX, dy - movedY);
				movedX = dx; movedY = dy;
				// 이 코드엔 버그가 좀 있지만, 이런 식으로 드래깅을 구현할 수 있다.
			},

				// x,y = 마우스 포지션
				onstartHandler = function (x, y, event) {
				console.log('drag started');
			},

			onendHandler = function (event) {
				console.log('drag ended');
			},

			movedX = 0, movedY = 0;

			// 파라미터로는 onmove, onstart, onend 핸들러가 순서대로 들어간다.
			block.drag(onmoveHandler, onstartHandler, onendHandler);
	</script>
</body>
</html>